<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - College Notes</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body class="login-page">
    <div class="login-container">
        <div class="login-box">
            <h3>LOGIN HERE</h3>
            <p>ENTER YOUR REGISTER NUMBER</p>
            
            <input type="text" id="regNumber" placeholder="Enter Register Number" class="input-field">
            
            <div id="passwordField" style="display:none;">
                <input type="password" id="password" placeholder="Enter Password" class="input-field">
            </div>
            
            <label class="checkbox-label">
                <input type="checkbox" id="rememberMe">
                <span>Remember me</span>
            </label>
            
            <button id="loginBtn" class="login-button">LOGIN</button>
            <p id="error" style="color:red; display:none;"></p>
        </div>
    </div>

    <script>
        const regInput = document.getElementById('regNumber');
        const passwordField = document.getElementById('passwordField');
        const passwordInput = document.getElementById('password');
        const rememberCheckbox = document.getElementById('rememberMe');
        const loginBtn = document.getElementById('loginBtn');
        const errorMsg = document.getElementById('error');

        regInput.addEventListener('input', function() {
            const val = this.value.toLowerCase();
            if (val === 'admin' || val === 'code over write') {
                passwordField.style.display = 'block';
            } else {
                passwordField.style.display = 'none';
            }
        });

        loginBtn.addEventListener('click', function() {
            const reg = regInput.value;
            const pass = passwordInput.value;
            errorMsg.style.display = 'none';

            // Check student ranges
            const csStart = 25021004601;
            const csEnd = 25021004661;
            const bsStart = 25021006501;
            const bsEnd = 25021006560;
            const regNum = parseInt(reg.replace(/[A-Z]/g, ''));

            if (reg === 'admin' && pass === '0000') {
                localStorage.setItem('user', 'admin');
                localStorage.setItem('role', 'admin');
                localStorage.setItem('rememberMe', rememberCheckbox.checked);
                window.location.href = 'dashboard.html';
            } else if (reg.toLowerCase() === 'code over write' && pass === '10000') {
                localStorage.setItem('user', 'god');
                localStorage.setItem('role', 'god');
                localStorage.setItem('rememberMe', rememberCheckbox.checked);
                window.location.href = 'dashboard.html';
            } else if ((regNum >= 25021004601 && regNum <= 25021004661) || (regNum >= 25021006501 && regNum <= 25021006560)) {
                localStorage.setItem('user', reg);
                localStorage.setItem('role', 'student');
                localStorage.setItem('rememberMe', rememberCheckbox.checked);
                window.location.href = 'dashboard.html';
            } else {
                errorMsg.textContent = 'Invalid credentials';
                errorMsg.style.display = 'block';
            }
        });
    </script>
</body>
</html>
